(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{4083:(e,t,s)=>{Promise.resolve().then(s.bind(s,5106))},5106:(e,t,s)=>{"use strict";s.d(t,{default:()=>u});var n=s(5155),a=s(2115),c=s(9888),l=s.n(c),o=s(9882);async function r(e,t){let s=(0,a.cache)(i),n=await s(e),c=new o.Ay({baseURL:"https://openrouter.ai/api/v1",apiKey:n,dangerouslyAllowBrowser:!0});if(!c)return;let l=await c.chat.completions.create({messages:t,model:"deepseek/deepseek-chat-v3-0324:free"});return[...t,l.choices[0].message]}async function i(e){let t=e.startsWith("localhost")?"http":"https",s=await fetch("".concat(t,"://").concat(e,"/api"),{method:"GET",headers:{"Content-Type":"application/json"}}),n=await s.json();return null==n?void 0:n.message[0].token}let u=e=>{let{host:t}=e,[s,c]=(0,a.useState)([]),[o,i]=(0,a.useState)(""),[u,h]=(0,a.useState)(!1),d=(0,a.useRef)(null),[_,p]=(0,a.useTransition)(),x=()=>{p(async()=>{let e=await r(t,s);e&&c(e)})};(0,a.useEffect)(()=>{},[o]),(0,a.useEffect)(()=>{g(),d.current&&(d.current.scrollTop=d.current.scrollHeight)},[s.length,u]);let g=async()=>{s.length%2!=0&&(h(!0),x(),h(!1))};return(0,n.jsxs)("div",{className:l().container,children:[(0,n.jsxs)("div",{ref:d,className:l().chat,children:[s.map((e,t)=>(0,n.jsx)("div",{className:e&&"user"===e.role?l().userBox:l().botBox,children:e.content},t)),(0,n.jsx)("img",{src:"../assets/loading.webp",width:"100",height:"100",style:{display:u?"block":"none"}})]}),(0,n.jsxs)("div",{className:l().inputBox,children:[(0,n.jsx)("textarea",{value:o,onChange:e=>{i(e.target.value)},placeholder:"Enter your message"}),(0,n.jsx)("button",{className:l().sendBut,onClick:e=>{c([...s,{role:"user",content:o}]),i("")},disabled:0===o.length||u,children:" Send "})]})]})}},9888:e=>{e.exports={container:"client_container__s4JP_",chat:"client_chat__qsFSn",inputBox:"client_inputBox__vZldi",sendBut:"client_sendBut__zOShg",userBox:"client_userBox__u_aUw",botBox:"client_botBox__xcBqZ"}}},e=>{var t=t=>e(e.s=t);e.O(0,[627,882,441,684,358],()=>t(4083)),_N_E=e.O()}]);